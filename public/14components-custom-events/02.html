<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
</head>

<body>
  <h3>深入了解组件 > 自定义事件 > 自定义组件的 v-model</h3>
  <br />
  <div id="app">
    <base-checkbox v-model="lovingVue"></base-checkbox>
    <p>lovingVue: {{ lovingVue }}</p>
  </div>

  <script type="text/javascript">

    var app = new Vue({
      el: '#app',
      components: {
        'base-checkbox': {
          model: {
            prop: 'checked',
            event: 'change'
          },
          props: {
            checked: Boolean
          },
          template:
            `
  <input
    type="checkbox"
    v-bind:checked="checked"
    v-on:change="onChange"
  >
`,
          methods: {
            onChange: function ($event) {
              console.log('change triggered!');
              this.$emit('change', $event.target.checked);
            }
          }
        },
      },
      data: {
        lovingVue: undefined

      }

    });

  </script>
</body>

</html>